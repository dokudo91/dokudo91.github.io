<!doctype html> <html lang=ja > <meta charset=UTF-8 > <meta name=viewport  content="width=device-width, initial-scale=1"> <link rel=stylesheet  href="/libs/highlight/github.min.css"> <meta name="twitter:card" content=summary > <meta name="twitter:title" content="Juliaã®ä¸–ç•Œ |&gt; ç¢ºç‡åˆ†å¸ƒãƒ•ã‚£ãƒƒãƒ†ã‚£ãƒ³ã‚°"> <meta name="twitter:site" content="@dokudo91"> <meta name="twitter:description" content="Juliaã§ç¢ºç‡åˆ†å¸ƒãƒ•ã‚£ãƒƒãƒ†ã‚£ãƒ³ã‚°ã‚’è¡Œã†ã€‚"> <meta name="twitter:image" content="https://dokudo91.github.io/assets/ã‚½ãƒ•ã‚£ãƒ¼ã®ä¸–ç•Œ.png"> <link rel=stylesheet  href="/css/franklin.css"> <link rel=stylesheet  href="/css/basic.css"> <link rel=icon  href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text x=%220%22 y=%2280%22 font-family=%22Arial%22 font-size=%2285%22>ğŸ˜€</text></svg>"> <title>ç¢ºç‡åˆ†å¸ƒãƒ•ã‚£ãƒƒãƒ†ã‚£ãƒ³ã‚°</title> <header> <div class=blog-name ><a href="/">Juliaã®ä¸–ç•Œ</a></div> </header> <div class=franklin-content ><h1 id="ç¢ºç‡åˆ†å¸ƒãƒ•ã‚£ãƒƒãƒ†ã‚£ãƒ³ã‚°"><a href="#ç¢ºç‡åˆ†å¸ƒãƒ•ã‚£ãƒƒãƒ†ã‚£ãƒ³ã‚°" class=header-anchor >ç¢ºç‡åˆ†å¸ƒãƒ•ã‚£ãƒƒãƒ†ã‚£ãƒ³ã‚°</a></h1> <p>å®Ÿéš›ã®ãƒ‡ãƒ¼ã‚¿ã«è¿‘ã„ç¢ºç‡åˆ†å¸ƒã‚’æ¢ã—ãŸã„ã€‚ãƒ‡ãƒ¼ã‚¿ã¯<a href="http://www.stat.columbia.edu/~gelman/book/">Bayesian Data Analysis</a>ã®<a href="http://www.stat.columbia.edu/~gelman/book/data/football.asc">Football scores and point spreads</a>ã‚’ä½¿ã†ã€‚</p> <pre><code class="julia hljs"><span class=hljs-keyword >using</span> CSV, DataFrames, StatsPlots
df = CSV.File(<span class=hljs-string >&quot;_assets/datasets/football.csv&quot;</span>, delim = <span class=hljs-string >&#x27; &#x27;</span>, ignorerepeated = <span class=hljs-literal >true</span>, header=<span class=hljs-literal >true</span>) |&gt; DataFrame
first(df, <span class=hljs-number >5</span>)</code></pre><pre><code class="plaintext hljs">5Ã—7 DataFrame
 Row â”‚ home   favorite  underdog  spread   favorite.name  underdog.name  week
     â”‚ Int64  Int64     Int64     Float64  String3        String3        Int64
â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   1 â”‚     1        21        13      2.0  TB             MIN                1
   2 â”‚     1        27         0      9.5  ATL            NO                 1
   3 â”‚     1        31         0      4.0  BUF            NYJ                1
   4 â”‚     1         9        16      4.0  CHI            GB                 1
   5 â”‚     1        27        21      4.5  CIN            SEA                1</code></pre> <p>ã“ã“ã§ã€favoriteã¯å‹ã¤ã¨äºˆæƒ³ã•ã‚Œã¦ã„ã‚‹ãƒãƒ¼ãƒ ã®å®Ÿéš›ã®ç‚¹æ•°ã€underdogã¯è² ã‘ã‚‹ã¨äºˆæƒ³ã•ã‚Œã¦ã„ã‚‹ãƒãƒ¼ãƒ ã®å®Ÿéš›ã®ç‚¹æ•°ã€spreadã¯ãã®è©¦åˆã®ç‚¹å·®äºˆæƒ³ã§ã‚ã‚‹ã€‚</p> <pre><code class="julia hljs">outcomes = df.favorite .- df.underdog
first(outcomes, <span class=hljs-number >5</span>)</code></pre><pre><code class="plaintext hljs">5-element Vector{Int64}:
  8
 27
 31
 -7
  6</code></pre> <p>outcomesã«å®Ÿéš›ã®ç‚¹æ•°å·®ã‚’è¨ˆç®—ã™ã‚‹ã€‚å®Ÿéš›ã®ç‚¹æ•°å·®ã¨äºˆæƒ³ã®ç‚¹æ•°å·®ã¨ã®å·®ã‚’ãƒ’ã‚¹ãƒˆã‚°ãƒ©ãƒ ã«ã™ã‚‹ã€‚</p> <pre><code class="julia hljs">histogram(outcomes - df.spread, label=<span class=hljs-string >&quot;outcome - point spread&quot;</span>, ylabel=<span class=hljs-string >&quot;#&quot;</span>, guidefontsize=<span class=hljs-number >30</span>)
savefig(joinpath(<span class=hljs-meta >@OUTPUT</span>, <span class=hljs-string >&quot;football.svg&quot;</span>))
<span class=hljs-literal >nothing</span></code></pre> <img src="/assets/pages/DistributionFitting/code/output/football.svg" alt=""> <p>ã“ã®ãƒ’ã‚¹ãƒˆã‚°ãƒ©ãƒ ã‚’æ­£è¦åˆ†å¸ƒã«ãƒ•ã‚£ãƒƒãƒ†ã‚£ãƒ³ã‚°ã™ã‚‹ã€‚</p> <pre><code class="julia hljs"><span class=hljs-keyword >using</span> Distributions
fitted = fit(Normal, outcomes - df.spread)</code></pre><pre><code class="plaintext hljs">Distributions.Normal{Float64}(Î¼=0.22589285714285715, Ïƒ=13.687140377113344)</code></pre>
<p>å¹³å‡ã¯0.23ã§æ¨™æº–åå·®ã¯13.69ã®æ­£è¦åˆ†å¸ƒã«ãƒ•ã‚£ãƒƒãƒ†ã‚£ãƒ³ã‚°ã•ã‚ŒãŸã€‚</p>
<pre><code class="julia hljs">histogram(outcomes - df.spread, normalize=:pdf, label=<span class=hljs-string >&quot;outcome - point spread&quot;</span>, ylabel=<span class=hljs-string >&quot;#&quot;</span>, guidefontsize=<span class=hljs-number >30</span>)
plot!(fitted, label=<span class=hljs-string >&quot;Normal PDF&quot;</span>)
savefig(joinpath(<span class=hljs-meta >@OUTPUT</span>, <span class=hljs-string >&quot;football_fitted.svg&quot;</span>))
<span class=hljs-literal >nothing</span></code></pre>
<img src="/assets/pages/DistributionFitting/code/output/football_fitted.svg" alt="">
<p>ã“ã“ã§ã€ãƒ’ã‚¹ãƒˆã‚°ãƒ©ãƒ ã¯<code>normalize&#61;:pdf</code>ã§PDFã«æ­£è¦åŒ–ã—ã¦ã„ã‚‹ã€‚ æ­£è¦åˆ†å¸ƒã®æ¨™æº–åå·®ãŒ13.69ã¨ã„ã†ã“ã¨ã¯å¹³å‡0.23ã‹ã‚‰Â±13.69å†…ã«ç´„68&#37;ã®ãƒ‡ãƒ¼ã‚¿ãŒå«ã¾ã‚Œã‚‹ã“ã¨ã‚’æ„å‘³ã™ã‚‹ã€‚</p>
<div class=page-foot >
  <div class=copyright >
    &copy; dokudo91. Last modified: September 10, 2023. Website built with <a href="https://github.com/tlienart/Franklin.jl">Franklin.jl</a> and the <a href="https://julialang.org">Julia programming language</a>.
  </div>
</div>
</div>